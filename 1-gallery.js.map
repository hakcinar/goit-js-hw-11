{"version":3,"file":"1-gallery.js","sources":["../src/js/1-gallery.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchInput = document.querySelector('.search__input');\nconst searchButton = document.querySelector('button');\nconst baseUrl = 'https://pixabay.com/api/';\nconst apiKey = '51405518-123002757a861b136415ef994';\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nloader.style.display = 'none';\n\nsearchButton.addEventListener('click', () => {\n  const query = searchInput.value.trim();\n  if (query) {\n    fetchImages(query);\n  } else {\n    alert('Please enter a search term.');\n  }\n});\nconst fetchImages = query => {\n  loader.style.display = 'block'; // Show the loader\n  const url = `${baseUrl}?key=${apiKey}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo`;\n\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        loader.style.display = 'none';\n        iziToast.error({\n          title: 'No results found',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n      console.log(data.hits);\n      const images = (gallery.innerHTML = data.hits\n        .map(\n          hit => `\n            <div class=\"gallery__item\">\n                <a href=\"${hit.largeImageURL}\" class=\"gallery__item\">\n                    <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" class=\"gallery__image\" />\n                </a>\n                <div class=\"gallery__info\">\n                    <p class=\"gallery__info_item\"><b>Likes</b> ${hit.likes}</p>\n                    <p class=\"gallery__info_item\"><b>Views</b> ${hit.views}</p>\n                    <p class=\"gallery__info_item\"><b>Comments</b> ${hit.comments}</p>\n                    <p class=\"gallery__info_item\"><b>Downloads</b> ${hit.downloads}</p>\n                </div>\n            </div>\n            `\n        )\n        .join(''));\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n        scrollZoom: false,\n      });\n      loader.style.display = 'none';\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error(\n        'There has been a problem with your fetch operation:',\n        error\n      );\n    });\n};\n"],"names":["searchInput","searchButton","baseUrl","apiKey","gallery","loader","query","fetchImages","url","response","data","iziToast","hit","lightbox","SimpleLightbox","error"],"mappings":"2GAKA,MAAMA,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAU,2BACVC,EAAS,qCACTC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEvBJ,EAAa,iBAAiB,QAAS,IAAM,CAC3C,MAAMK,EAAQN,EAAY,MAAM,KAAI,EAChCM,EACFC,EAAYD,CAAK,EAEjB,MAAM,6BAA6B,CAEvC,CAAC,EACD,MAAMC,EAAcD,GAAS,CAC3BD,EAAO,MAAM,QAAU,QACvB,MAAMG,EAAM,GAAGN,CAAO,QAAQC,CAAM,MAAM,mBACxCG,CACD,CAAA,oBAED,MAAME,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BL,EAAO,MAAM,QAAU,OACvBM,EAAS,MAAM,CACb,MAAO,mBACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CACD,QAAQ,IAAID,EAAK,IAAI,EACLN,EAAQ,UAAYM,EAAK,KACtC,IACCE,GAAO;AAAA;AAAA,2BAEUA,EAAI,aAAa;AAAA,gCACZA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,iEAGDA,EAAI,KAAK;AAAA,iEACTA,EAAI,KAAK;AAAA,oEACNA,EAAI,QAAQ;AAAA,qEACXA,EAAI,SAAS;AAAA;AAAA;AAAA,aAIzE,EACA,KAAK,EAAE,EACV,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,IACd,WAAY,EACpB,CAAO,EACDT,EAAO,MAAM,QAAU,OACvBQ,EAAS,QAAO,CACtB,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,MACN,sDACAA,CACR,CACA,CAAK,CACL"}